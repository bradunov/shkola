<!DOCTYPE html>
<html>
  <head>

    {% import 'elements.html.j2' as elements %}
    {{ elements.head(template_params) }}
    {{ elements.init_elements() }}
    {{ elements.standard_background() }}

  </head>

  <body>

    <!-- MOBILE MENU START -->
    {% import 'menu.html.j2' as menu %}
    {{ menu.include() }}
    {{ menu.head(template_params) }}
    {{ menu.dropdowns(template_params) }}
    <!-- MENU END -->




    <!-- prepare columns for the stars -->
    {# <style> * .column{float:left; width:50%} .row:after{content: ""; display:table; clear:both} </style> #}

    {% for level_key, level_val in template_params["stats"].items() %}
      {% for theme_key, theme_val in level_val.items() %}

        <div style='display:block; width:100%; margin-bottom:6px'>
          <div class="sh_chalk_font" style="
                display:inline-block;
                width: calc(49% - 20px);
                font-weight:550;
                font-size: 18px;
                margin-top:4px;
                margin-left:20px;
                text-align:left; vertical-align:middle;
                ">
            <span style = "color:red" > 
              {{ level_key }} 
            </span>

            <span style = "color:gray">
                 {{template_params["class_gen_str"]}}
            </span> <br>
            {% set label_cls, field_cls = "col-md-7", "col-md-3" %}

            {#add theme in different colors in python #}
            {#clr = [] #}
            {#clr.append('#dc3d39')  # red #}
            {#clr.append('#489cba')  # blue #}
            {#clr.append('#f3b051')  # yellow #}
            {#clr.append('#8f53cb')  # violet #}
            {#clr.append('#6ab288')  # green #}
            {#clr.append('#ec8e43')  # orange #}
            {#clr.append('#df367c')  # pink #}
            {#theme_str='' #}
            {#c=0 #}
            {#for ch in {{template_params["class_gen_str"]}}: #}
            {#    theme_str=theme_str+'<span style = "color:'+clr[c]+'" >' + ch + '</span>' #}
            {#    c+=1 #}
            {#    if c==6: c=0 #}

            {{theme_key}}
          </div>

          <div class="sh_lato_font" style="display:inline-block; width:calc(49% - 20px);
                font-weight:550; font-size: 18px; margin-top:4px; margin-right:20px; vertical-align:middle; text-align:right">
            <div style="display:block; height:20px">
              {{ elements.stars(1) }}
              {# <span style = "color:yellow" > &#9733 </span> #}
            </div>
            <div style="display:block; height:20px">
              {{ elements.stars(2) }}
              {# <span style = "color:green" > &#9733 &#9733 </span> #}
            </div>
            <div style="display:block; height:20px">
              {{ elements.stars(3) }}
              {# <span style = "color:blue" > &#9733 &#9733 &#9733 </span> #}
            </div>
          </div>
        </div>

        {# <div>
          <img src=data:image/png;base64,{{ template_params["base64_str"][theme_key] }} 
               alt="File Missing"> 
        </div> #}

        <div style="display:inline-block; width: 100%; margin-bottom:30px;
                    background:white; 
                    box-shadow: 0px 5px 5px #dddddd;">
          {% for subtheme_key, subtheme_val in theme_val.items() %}
            <div style="display:inline-block; width: 100%; text-align: center; margin-top: 15px; ">
              <div class="sh_lato_font" style="display:inline-block; width: calc(49% - 24px);
                                          font-size: 16px; text-align: left; margin-left: 24px">
                {{subtheme_key}}
              </div>          
              <div class="sh_lato_font" style="display:inline-block; width: calc(49% - 24px);
                                          font-size: 16px; text-align: right; margin-right: 24px">
                {{subtheme_val["message"]}}
                {{subtheme_val["total"]}}
              </div>          
            </div>
            <div style="display:inline-block; width: 100%; text-align: center; margin-top: 11px; ">
              {{ elements.stats("bar_" + subtheme_key, 
                      subtheme_val["diff1"], subtheme_val["diff2"], 
                      subtheme_val["diff3"], subtheme_val["wrong"]) }} 
            </div>
          {% endfor %}
        </div>

      {% endfor %}
    {% endfor %}


    {{ elements.footer(2, template_params['url_year'], template_params['url_theme']) }}

  </body>
</html>
