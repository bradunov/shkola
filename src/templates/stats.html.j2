<!DOCTYPE html>
<html>
  <head>

    {% import 'elements.html.j2' as elements %}
    {{ elements.head(template_params) }}
    {{ elements.init_elements() }}
    {{ elements.standard_background() }}

  </head>

  <body>

    <!-- MOBILE MENU START -->
    {% import 'menu.html.j2' as menu %}
    {{ menu.include() }}
    {{ menu.head() }}
    {{ menu.dropdowns(template_params) }}
    <!-- MENU END -->




    <!-- prepare columns for the stars -->
    <style> * .column{float:left; width:50%} .row:after{content: ""; display:table; clear:both} </style>

    {% for level_key, level_val in template_params["stats"].items() %}
      {% for theme_key, theme_val in level_val.items() %}

        <div class="row" style="width:360px; margin: 20px 0 0 0">
          <div class="column" align="left" class="sh_font" 
               style="display:content; font-weight:550; font-size: 18px; margin-top:4px;">
            <div class="sh_font" style="margin-left:20px">
              <span style = "color:red" > 
                {{ level_key }} 
              </span> 
              <span style = "color:gray">
                {{template_params["class_gen_str"]}}  
              </span> <br>

            {{theme_key}}
          </div>
        </div>

        <div class="column" align="right" style="display:content; margin-top:4px;">  
          <div style="margin-right:25px; align="right"; font-size:18px">
            <table  border-collapse=collapse cellpadding=0 cellspacing=0> 
              <tr>
                <td>
                    {{ elements.stars(1) }}
                    {# <span style = "color:yellow" > &#9733 </span> #}
                </td>
              </tr>
              <tr>
                <td>
                    {{ elements.stars(2) }}
                {# <span style = "color:green" > &#9733 &#9733 </span> #}
                </td>
              </tr>
              <tr>
                <td>
                    {{ elements.stars(3) }}
                {# <span style = "color:blue" > &#9733 &#9733 &#9733 </span> #}
                </td>
              </tr>
            </table>

          </div>
        </div>

        {# <div>
          <img src=data:image/png;base64,{{ template_params["base64_str"][theme_key] }} 
               alt="File Missing"> 
        </div> #}

        {% for subtheme_key, subtheme_val in theme_val.items() %}
          <div style="display:inline-block; width: 100%; text-align: center; margin-top: 20px; ">
            <div class="sh_font" style="display:inline-block; width: calc(49% - 24px); 
                                        font-size: 16px; text-align: left; margin-left: 24px">
              {{subtheme_key}}
            </div>          
            <div class="sh_font" style="display:inline-block; width: calc(49% - 24px); 
                                        font-size: 16px; text-align: right; margin-right: 24px">
              {{subtheme_val["total"]}}
              {{subtheme_val["message"]}}
            </div>          
          </div>
          <div style="display:inline-block; width: 100%; text-align: center; margin-top: 6px; ">
            {{ elements.stats("bar_" + subtheme_key, 
                    subtheme_val["diff1"], subtheme_val["diff2"], 
                    subtheme_val["diff3"], subtheme_val["wrong"]) }} 
          </div>
        {% endfor %}

      {% endfor %}
    {% endfor %}


    {{ elements.footer(2, template_params['url_year'], template_params['url_theme']) }}

  </body>
</html>
