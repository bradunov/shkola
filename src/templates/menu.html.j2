{# Mobile menu elements #}

{% macro include() %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
      .sh-menu-font{font-family: 'Lato'; font-size: 18px; color: #f7f7f7}
      .sh-menu-button{background-color:white;outline:none;border:none;display:inline-block;padding:8px 16px;vertical-align:middle;overflow:hidden;text-decoration:none;text-align:center;cursor:pointer;white-space:nowrap}
      .sh-menu-button{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}   
      .sh-menu-button-arrow{background-color:#029194;border:none;display:inline-block;padding:8px 0px 8px 0px;vertical-align:middle;overflow:hidden;text-decoration:none;text-align:center;cursor:pointer;white-space:nowrap}
      .sh-menu-button-arrow{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}   
      .sh-menu-border-left{background-color:#029194;border-left:1px solid #ccc!important}
      .sh-menu-sidebar{width:185px;background-color:#029194;position:fixed!important;z-index:1;overflow-x:hidden;overflow-y:auto;}
      .sh-menu-left-align{text-align:left!important}
      .sh-menu-right-align{text-align:right!important}
      .sh-menu-block{background-color:#029194;display:block;width:100%}
      .sh-menu-card{background-color:#029194;box-shadow:0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)}
      .sh-menu-hide{display:none!important}
      .sh-menu-show{display:block!important}
      .sh-menu-bar .sh-menu-bar-item{background-color:#029194;padding:8px 16px;float:left;width:auto;border:none;display:block;outline:0}
      .sh-menu-bar .sh-menu-dropdown-hover,.sh-menu-bar .sh-menu-dropdown-click{background-color:#029194;position:static;float:left}
      .sh-menu-bar .sh-menu-button{white-space:normal;background-color:#029194;}
      .sh-menu-bar-block .sh-menu-bar-item{background-color:#029194;width:100%;display:block;padding:8px 16px;text-align:left;border:none;white-space:normal;float:none;outline:0}
      .sh-menu-bar-block .sh-menu-center .sh-menu-bar-item{background-color:#029194;text-align:center}.sh-menu-block{display:block;width:100%}
    </style>


    <script>
      function myAccFunc(title) {
        var x = document.getElementById(title);
          if (x.className.indexOf("sh-menu-show") == -1) {
          x.className += " sh-menu-show";
        } else { 
          x.className = x.className.replace(" sh-menu-show", "");
        }
      }
      function shm_toggle() {
        if (document.getElementById("shMenu").style.display == "none") {
          document.getElementById("shMenu").style.display = "block";
        } else {
          document.getElementById("shMenu").style.display = "none";
        }
      }
      function shl_toggle() {
        if (document.getElementById("shLang").style.display == "none") {
          document.getElementById("shLang").style.display = "block";
        } else {
          document.getElementById("shLang").style.display = "none";
        }
      }
    </script>
{% endmacro %}


{% macro start_head() %}
  <div style="height: 50px; background-color: white; box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.12);">
{% endmacro %}


{% macro end_head() %}
    <span width="70px" style='display:table;float:right;'> 
      <button class="sh-menu-button" style="display: table-cell; vertical-align: middle; text-align: center;padding: 8px 8px; font-size: 20px; font-weight: 900; color: #029194" onclick="shm_toggle()">â˜°</button>
    </span>
  </div>
{% endmacro %}


{% macro head(text=None) %}
  {{ start_head() }}
    {% if text == None %}
      <div class="sh-menu-button" style="font-family: 'Bubblegum Sans'; font-size: 24px; color: #029194"> TATA MATA </div> 
    {% else %}
      {{text}}
    {% endif %}
  {{ end_head() }}
{% endmacro %}


{% macro one_dropdown(submenu, level=0) %}
  {% if 'link' in submenu.keys() and 'submenu' in submenu.keys() %}
    <a class="sh-menu-font" href="{{ submenu['link'] }}" style="padding: 8px 0px 8px 16px ; text-decoration:none"> 
      {% for i in range(0, level) %}
        <div class="space"></div> 
      {% endfor %}
      {{ submenu['name'] }}
    </a>
    <button class="sh-menu-button-arrow sh-menu-left-align sh-menu-font" 
            style="padding-top:0; padding-bottom:0;" onclick="myAccFunc('{{ submenu['submenu']['id'] }}')">
      <i class="fa fa-caret-down"></i>
    </button>
  {% elif 'link' in submenu.keys() %}
    <a class="sh-menu-bar-item sh-menu-button sh-menu-font" href="{{ submenu['link'] }}"> 
      {% for i in range(0, level) %}
        <div class="space"></div> 
      {% endfor %}
      {{ submenu['name'] }}
    </a> 
  {% elif 'submenu' in submenu.keys() %}
      <button class="sh-menu-button sh-menu-block sh-menu-left-align sh-menu-font" onclick="myAccFunc('{{ submenu['submenu']['id'] }}')">
        {% for i in range(0, level) %}
          <div class="space"></div> 
        {% endfor %}
        {{ submenu['name'] }} 
        <i class="fa fa-caret-down"></i>
      </button>
  {% else %}
    {% for i in range(0, level) %}
      <div class="space"></div> 
    {% endfor %}
    <div class="sh-menu-font sh-menu-bar-item sh-menu-button"> 
      {{ submenu['name'] }} 
    </div> 
  {% endif %}

  {% if 'submenu' in submenu.keys() %}
    <div id="{{ submenu['submenu']['id'] }}" class="sh-menu-hide sh-menu-white sh-menu-card">
      {% for sub in submenu['submenu']['options'] %}
        {{ one_dropdown(sub, level+1) }}
      {% endfor %}
    </div>
    {% if 'link' in submenu.keys() %}
      <br>
    {% endif %}
  {% endif %}
  
{% endmacro %}




{% macro dropdowns(template_params) %}

    <div class="sh-menu-sidebar sh-menu-bar-block sh-menu-border-left" style="right:0;display:none" id="shMenu">
      {% for subm in template_params['menu'] %}
        {{ one_dropdown(subm) }}
      {% endfor %}
    </div>
    
{% endmacro %}